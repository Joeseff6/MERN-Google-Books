(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{49:function(e,t,s){},50:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(21),o=s.n(c),r=s(9),l=s(2),i=s(4),j=s(10),d=s.n(j),b=s(6),u=s.n(b),m=s(0);var h=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(["collapse","navbar-collapse"]),o=Object(i.a)(c,2),j=o[0],b=o[1],h=Object(l.g)();return Object(m.jsxs)("nav",{className:"navbar navbar-expand-lg mb-3",children:[Object(m.jsx)("span",{className:"navbar-brand px-3",children:Object(m.jsx)("i",{className:"fas fa-book-reader",children:" MERN Google Books"})}),Object(m.jsx)("button",{className:"navbar-toggler mx-3",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){b(["navbar-collapse","collapsing"],{show:s}),n(!s),setTimeout((function(){b(s?["collapse","navbar-collapse","show"]:["collapse","navbar-collapse"])}),100)},children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsx)("div",{className:d()(j),id:"navbarSupportedContent",children:Object(m.jsxs)("ul",{className:"navbar-nav mr-auto mx-3",children:[Object(m.jsx)("li",{className:d()("nav-item",{active:"/search"===h.pathname}),children:Object(m.jsx)(r.b,{to:"/search",className:"nav-link",children:"Search"})}),Object(m.jsx)("li",{className:d()("nav-item",{active:"/saved"===h.pathname}),children:Object(m.jsx)(r.b,{to:"/saved",className:"nav-link",children:"Saved"})}),Object(m.jsx)("li",{className:d()("nav-item",{active:"/saved"===h.pathname}),children:Object(m.jsx)("a",{onClick:function(){u.a.logout(),window.location.pathname="/"},className:"nav-link",children:"Logout"})})]})})]})};var p=function(){return Object(m.jsx)("div",{className:"footer",children:Object(m.jsx)("span",{children:"Powered by the powerful React Library!"})})};var x=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h,{}),Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)(l.a,{})}),Object(m.jsx)(p,{})]})};var O=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"container-fluid mt-5",children:Object(m.jsx)(l.a,{})}),Object(m.jsx)(p,{})]})},v=s(3),f=s.n(v),g=s(7),N=s(6);var k=function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(),o=Object(i.a)(c,2),r=o[0],l=o[1],j=Object(a.useState)(),d=Object(i.a)(j,2),b=d[0],u=d[1];function h(){return(h=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,document.getElementById("floatingInputLogin").value="",document.getElementById("floatingPasswordLogin").value="",e.next=6,N.login(s);case 6:window.location.pathname="/search",e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),document.getElementById("errorLogin").classList.remove("d-none"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function p(e){var t=e.target;"text"===t.type&&l(t.value),"password"===t.type&&u(t.value)}return Object(a.useEffect)((function(){n({username:r,password:b})}),[r,b]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"row text-center mb-3 d-none",id:"errorLogin",children:Object(m.jsx)("span",{className:" error",children:"Incorrect username or password!"})}),Object(m.jsx)("h2",{className:"text-center",children:"Log in"}),Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"form-floating mb-3",children:[Object(m.jsx)("input",{onChange:p,type:"text",className:"form-control",id:"floatingInputLogin",placeholder:"user123"}),Object(m.jsx)("label",{htmlFor:"floatingInputLogin",children:"Username"})]}),Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",{onChange:p,type:"password",className:"form-control",id:"floatingPasswordLogin",placeholder:"Password"}),Object(m.jsx)("label",{htmlFor:"floatingPasswordLogin",children:"Password"})]}),Object(m.jsx)("button",{className:"btn d-block m-auto mt-3",type:"submit",onClick:function(e){return h.apply(this,arguments)},children:"Submit"})]})]})},w=s(6);var y=function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(),o=Object(i.a)(c,2),r=o[0],l=o[1],j=Object(a.useState)(),d=Object(i.a)(j,2),b=d[0],u=d[1];function h(){return(h=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,document.getElementById("floatingInputSignUp").value="",document.getElementById("floatingPasswordSignUp").value="",e.next=6,w.signUp(s);case 6:window.location.pathname="/search",e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),document.getElementById("errorSignUp").classList.remove("d-none"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function p(e){var t=e.target;"text"===t.type&&l(t.value),"password"===t.type&&u(t.value)}return Object(a.useEffect)((function(){n({username:r,password:b})}),[r,b]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"row text-center mb-3 d-none",id:"errorSignUp",children:Object(m.jsx)("span",{className:" error",children:"Username already taken!"})}),Object(m.jsx)("h2",{className:"text-center",children:"Sign Up"}),Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"form-floating mb-3",children:[Object(m.jsx)("input",{onChange:p,type:"text",className:"form-control",id:"floatingInputSignUp",placeholder:"user123"}),Object(m.jsx)("label",{htmlFor:"floatingInputSignUp",children:"Username"})]}),Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",{onChange:p,type:"password",className:"form-control",id:"floatingPasswordSignUp",placeholder:"Password"}),Object(m.jsx)("label",{htmlFor:"floatingPasswordSignUp",children:"Password"})]}),Object(m.jsx)("button",{className:"btn d-block m-auto mt-3",type:"submit",onClick:function(e){return h.apply(this,arguments)},children:"Submit"})]})]})};var I=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("header",{className:"row text-center",children:Object(m.jsx)("h1",{children:"Welcome to MERN Google Books!"})}),Object(m.jsx)("div",{className:"row text-center",children:Object(m.jsxs)("div",{className:"col-6 m-auto",children:[Object(m.jsxs)("p",{children:["MERN Google Books is an app powered by React, which uses the Google Books APIs (docs found ",Object(m.jsx)("a",{href:"https://developers.google.com/books",target:"_blank",children:"here"}),"). This app does require user authentification, as you will be able to store book information to a database."]}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"Please log in or sign up:"})]})}),Object(m.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(m.jsx)("div",{className:"col-4 my-5 mx-5",id:"loginContainer",children:Object(m.jsx)(k,{})}),Object(m.jsx)("div",{className:"col-4 my-5 mx-5",id:"signUpContainer",children:Object(m.jsx)(y,{})})]})]})};var S=function(e){var t=e.heading;return Object(m.jsx)("div",{className:"row d-flex justify-content-center",children:Object(m.jsx)("header",{className:"mb-2 mx-2",children:Object(m.jsx)("h1",{className:"text-center",children:t})})})};var B=function(e){var t=e.books,s=-1,a=function(){var e=Object(g.a)(f.a.mark((function e(s){var a,n,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.target,n=a.dataset.index,c=t[n],o={title:c.volumeInfo.title,author:c.volumeInfo.authors[0],yearPublished:c.volumeInfo.publishedDate,textSnippet:c.volumeInfo.description,pageCount:c.volumeInfo.pageCount,link:c.volumeInfo.infoLink,image:c.volumeInfo.imageLinks.smallThumbnail},e.next=6,u.a.saveBook(o);case 6:document.getElementById("saveMessage").classList.remove("d-none"),setTimeout((function(){document.getElementById("saveMessage").classList.add("d-none")}),2e3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[null===t||void 0===t?void 0:t.map((function(e){var t;return Object(m.jsx)("div",{className:"row mb-4",children:Object(m.jsxs)("div",{className:"bookCard col-10 m-auto",children:[Object(m.jsxs)("div",{className:"row titleRow",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("h4",{className:"text-center",children:["Title: ",e.volumeInfo.title]})}),Object(m.jsx)("button",{className:"btn","data-index":s+=1,onClick:a,children:"Save"})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-2 partition-left",children:Object(m.jsx)("img",{className:"d-block m-auto my-2",src:null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail})}),Object(m.jsxs)("div",{className:"col",children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("span",{children:["Author:"," ",e.volumeInfo.authors?e.volumeInfo.authors[0]:"No authors"]})}),Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("span",{children:["Year published: ",e.volumeInfo.publishedDate]})}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("p",{className:"mt-3 mb-0",children:"Text snippet:"}),Object(m.jsx)("p",{children:e.volumeInfo.description}),Object(m.jsx)("p",{className:"mt-1 mb-0",children:"Link to book/item:"}),Object(m.jsxs)("a",{className:"bookInfo",href:e.volumeInfo.infoLink,children:["Google Books: ",e.volumeInfo.title]})]})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("p",{className:"mt-2",children:["Page Count:"," ",e.volumeInfo.pageCount?e.volumeInfo.pageCount:"N/A"]})})})]})]})]})},e.id)})),Object(m.jsx)("h4",{id:"saveMessage",className:"saveMessage bg-success d-none",children:"Book saved successfully!"})]})};var C=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)([]),o=Object(i.a)(c,2),r=o[0],l=o[1],j=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),document.getElementById("searchInput").value="",e.next=4,u.a.getBooks(s);case 4:a=e.sent,n=a.data,console.log(n.items),l(n.items);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){n(s)}),[s]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(S,{heading:"Search Page"}),Object(m.jsxs)("form",{className:"mb-3",children:[Object(m.jsx)("input",{className:"d-block m-auto mb-3 col-6 text-capitalize",type:"text",id:"searchInput",placeholder:"Enter book name",onChange:function(e){var t=e.target;n(t.value)}}),Object(m.jsx)("button",{type:"submit",className:"btn d-block m-auto",onClick:j,children:"Search"})]}),Object(m.jsxs)("h3",{className:"text-center",children:["Results found: ",r.length>0?r.length:"Please submit search"]}),Object(m.jsx)(B,{books:r})]})};var L=function(e){var t=e.userBooks.books,s=function(){var e=Object(g.a)(f.a.mark((function e(t){var s,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target,a=s.dataset.id,e.next=4,u.a.deleteBook(a);case 4:window.location.pathname="/saved";case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(m.jsx)("div",{className:"row mb-4",children:Object(m.jsxs)("div",{className:"bookCard col-10 m-auto",children:[Object(m.jsxs)("div",{className:"row titleRow",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("h4",{className:"text-center",children:["Title: ",e.title]})}),Object(m.jsx)("button",{className:"btn","data-id":e._id,onClick:s,children:"Delete"})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-2 partition-left",children:Object(m.jsx)("img",{className:"d-block m-auto my-2",src:e.image})}),Object(m.jsxs)("div",{className:"col",children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("span",{children:["Author: ",e.author?e.author:"No authors"]})}),Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("span",{children:["Date published: ",e.yearPublished]})}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("p",{className:"mt-3 mb-0",children:"Text snippet:"}),Object(m.jsx)("p",{children:e.textSnippet}),Object(m.jsx)("p",{className:"mt-1 mb-0",children:"Link to book/item:"}),Object(m.jsxs)("a",{className:"bookInfo",href:e.link,children:["Google Books: ",e.title]})]})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("p",{className:"mt-2",children:["Page Count: ",e.pageCount?e.pageCount:"N/A"]})})})]})]})]})},e.title+e.link)}))})};var P=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),s=t[0],n=t[1];return Object(a.useEffect)(Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.getUserBooks();case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(S,{heading:"Saved Page"}),Object(m.jsx)(L,{userBooks:s})]})};s(49);var E=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(r.a,{children:Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{element:Object(m.jsx)(O,{}),children:Object(m.jsx)(l.b,{path:"/",element:Object(m.jsx)(I,{})})}),Object(m.jsxs)(l.b,{element:Object(m.jsx)(x,{}),children:[Object(m.jsx)(l.b,{path:"/search",element:Object(m.jsx)(C,{})}),Object(m.jsx)(l.b,{path:"/saved",element:Object(m.jsx)(P,{})})]})]})})})};o.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root"))},6:function(e,t,s){var a=s(26),n={login:function(e){return a.post("/api/users/login",{data:e})},signUp:function(e){return a.post("/api/users",{data:e})},logout:function(){return a.post("/api/users/logout")},getBooks:function(e){var t=e.split(" ").join("%20");return a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(t,"&maxResults=10&orderBy=relevance&printType=books"))},saveBook:function(e){return a.post("/api/books",{data:e})},getUserBooks:function(){return a.get("/api/books")},deleteBook:function(e){return a.delete("api/books/"+e)}};e.exports=n}},[[50,1,2]]]);
//# sourceMappingURL=main.bdc9024c.chunk.js.map